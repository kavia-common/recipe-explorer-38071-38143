# CI-friendly defaults to avoid exit code 137 (OOM) and ensure stable startup
# Copy this file to .env before running locally or in CI:
#   cp .env.example .env

# Networking
HOST=0.0.0.0
PORT=3000
REACT_APP_PORT=3000
BROWSER=none
CHOKIDAR_USEPOLLING=false
WDS_SOCKET_PORT=0

# Memory and build behavior
# Cap Node memory to reduce risk of OOM in low-memory containers
NODE_OPTIONS=--max-old-space-size=256
# Disable source maps to reduce memory usage during dev/build
REACT_APP_ENABLE_SOURCE_MAPS=false
GENERATE_SOURCEMAP=false

# CI stability
# If set to 1, start only the static server (zero-bundle) for health endpoints
# Useful for extremely constrained CI runners
# CI_STATIC_ONLY=1

# Health endpoint path (served statically and always available)
REACT_APP_HEALTHCHECK_PATH=/healthz.html

# Logging and misc
REACT_APP_LOG_LEVEL=info
REACT_APP_NODE_ENV=development
REACT_APP_TRUST_PROXY=false
REACT_APP_ENABLE_SOURCE_MAPS=false

# Optional application URLs (not strictly required for dev server start)
REACT_APP_API_BASE=
REACT_APP_BACKEND_URL=
REACT_APP_FRONTEND_URL=
REACT_APP_WS_URL=
REACT_APP_FEATURE_FLAGS=
REACT_APP_EXPERIMENTS_ENABLED=false

# Note:
# - The start scripts will automatically create public/healthz.html and /healthz.
# - To harden further, you may export ULTRA_LOW_MEM=1 which runs with tighter memory and falls back to static.
