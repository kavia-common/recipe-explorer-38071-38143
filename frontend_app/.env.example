# PUBLIC_INTERFACE
# CI-safe defaults to avoid exit code 137 (OOM) and ensure stable startup
# Copy this file to .env in CI prior to start to inherit safe defaults.

# Network
HOST=0.0.0.0
PORT=3000
REACT_APP_PORT=3000
REACT_APP_FRONTEND_URL=http://localhost:3000
REACT_APP_BACKEND_URL=http://localhost:8080
REACT_APP_API_BASE=/api
REACT_APP_WS_URL=ws://localhost:3000
REACT_APP_NODE_ENV=development
REACT_APP_TRUST_PROXY=true

# Memory and performance
# Cap Node's old space size to minimize memory usage on CI
NODE_OPTIONS=--max-old-space-size=256
# Disable CRA source maps to reduce memory and CPU
REACT_APP_ENABLE_SOURCE_MAPS=false
GENERATE_SOURCEMAP=false
# Avoid opening a browser in container/CI
BROWSER=none
# Stabilize webpack dev server socket port selection inside containers
WDS_SOCKET_PORT=0
# Reduce filesystem watching overhead in containers
CHOKIDAR_USEPOLLING=false

# Logging and flags
REACT_APP_LOG_LEVEL=info
REACT_APP_FEATURE_FLAGS={}
REACT_APP_EXPERIMENTS_ENABLED=false

# Health endpoints (zero-bundle)
REACT_APP_HEALTHCHECK_PATH=/healthz.html

# Optional: set to 1 to force static-only mode (zero-bundle) in extreme CI constraints
# CI_STATIC_ONLY=1
